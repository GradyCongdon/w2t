{"version":3,"sources":["states/teas.ts","types/TeaProduct.ts","states/teaStyleFiltering.ts","states/sorting.ts","types/const.ts","states/personalFilters.ts","components/TeaProduct/Image.tsx","states/owned.ts","utils/scrollTo.ts","App.tsx","utils/scrollTop.ts","states/layout.ts","utils/capitalize.ts","components/Selectors/Layout.tsx","components/Selectors/Filtering.tsx","components/Selectors/Personal.tsx","components/Selectors/Sorting.tsx","components/Toggle.tsx","states/whiteBalanced.ts","components/Selectors/Subject.tsx","components/Divider.tsx","components/Heading.tsx","components/Nav.tsx","components/Detail/Description.tsx","components/Detail/LinkButton.tsx","components/Detail/Form.tsx","components/Detail/Table.tsx","components/Detail/Lines.tsx","components/Detail/OwnedButton.tsx","components/Detail/Detail.tsx","utils/formatNumber.ts","routes/DetailDrawer.tsx","states/selectedSlug.ts","hooks/useKeyboardNavigation.tsx","components/TeaProduct/Card.tsx","routes/Cards.tsx","components/TeaProduct/ListRow.tsx","routes/List.tsx","components/TeaProduct/Slice.tsx","routes/Slices.tsx","utils/reportWebVitals.ts","index.tsx"],"names":["allTeasState","atom","key","default","teaProducts","teasState","selector","get","all","selectedFiltering","teaStyleFilteringState","selectedSorting","sortingState","personalFilter","personalFilterState","owned","ownedState","map","t","isOwned","slug","filter","filteringFunctions","sort","sortingFunctions","getImageUrl","url","size","replace","isStyle","s","x","style","raw","ripe","white","black","oolong","bamboo","heicha","description","includes","huigan","smokey","blend","yiwu","menghai","quantity","sortings","getName","name","nameAsc","a","b","localeCompare","year","maxDPG","Math","max","forms","dpg","IMAGE_SIZE","personalFilters","Image","src","alt","width","height","useState","isLoaded","setIsLoaded","className","onLoad","stored","localStorage","getItem","JSON","parse","scrollToId","id","delay","setTimeout","elem","document","getElementById","scrollIntoView","behavior","block","window","scrollTo","top","left","process","console","log","App","sorting","useRecoilValue","filtering","teas","useSearchParams","params","location","useLocation","detail","useEffect","state","json","stringify","setItem","scrollTop","pathname","useKeyboardNavigation","path","element","Main","index","to","offset","layouts","capitalize","str","toUpperCase","slice","toLowerCase","Selector","layout","subject","useParams","newLocation","search","LayoutSelector","l","Button","useRecoilState","currentFiltering","set","disabled","onClick","FilteringSelector","$Buttons","Object","keys","PersonalSelector","value","Label","icon","getIcon","currentSorting","setSorting","SortingSelector","props","Toggle","label","classes","whiteBalancedState","WhiteBalance","isWhiteBalanced","setIsWhiteBalanced","currentSubject","newSubjectLocation","SubjectSelector","Divider","Heading","children","Nav","Description","lines","target","source","regex","RegExp","glowTitle","replaceWithGlowHtml","glowText","split","html","shift","join","dangerouslySetInnerHTML","__html","LinkButton","href","PriceTable","first","second","third","FormPricesTable","form","inStock","price","_name","mass","parseInt","tilde","startsWith","nan","Number","isNaN","getMassName","$price","toFixed","$ppg","textDecoration","color","TableHeading","headings","h","scale","Line","percentile","number","floor","scaleIndex","padStart","border","LineTable","Lines","teaStyle","length","percentiles","typeSize","OwnedButton","setOwned","newOwned","Detail","tea","imageUrl","images","wrapperTop","thumbnailUrl","fullName","Intl","NumberFormat","format","f","i","Drawer","DetailDrawer","allTeas","setParams","detailSlug","find","selectedSlugState","getDirection","direction","findIndex","selectedSlug","setSelectedSlug","useHotkeys","Card","Cards","$Teas","getRandomStyle","rand","min","random","ListRow","useMemo","imageStyle","List","Slice","loading","Slices","defaultFilters","getDefaultFilters","filteredSizes","setFilteredSizes","Filters","toggle","TeaSlices","cake","brick","mini","unknown","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename"],"mappings":"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","file":"static/js/main.351bf1d7.chunk.js","sourcesContent":["import { atom, selector } from \"recoil\";\nimport { TeaProduct } from \"types/TeaProduct\";\n\nimport teaProducts from \"teaProducts.json\";\nimport {\n  filteringFunctions,\n  teaStyleFilteringState,\n} from \"./teaStyleFiltering\";\nimport { sortingFunctions, sortingState } from \"./sorting\";\nimport { ownedState } from \"./owned\";\nimport { personalFilterState } from \"./personalFilters\";\n\nexport const allTeasState = atom({\n  key: \"allTeas\",\n  default: teaProducts as TeaProduct[],\n});\n\nexport const teasState = selector({\n  key: \"teas\",\n  get: ({ get }) => {\n    const all = get(allTeasState);\n    const selectedFiltering = get(teaStyleFilteringState);\n    const selectedSorting = get(sortingState);\n    const personalFilter = get(personalFilterState);\n    const owned = get(ownedState);\n\n    return all\n      .map((t) => {\n        const isOwned = owned[t.slug];\n        return {\n          ...t,\n          owned: isOwned,\n        };\n      })\n      .filter((t) => {\n        switch (personalFilter) {\n          case \"owned\": {\n            if (!t.owned) return false;\n            break;\n          }\n          case \"all\":\n          default: {\n            break;\n          }\n        }\n        const filter = filteringFunctions[selectedFiltering];\n        return filter(t);\n      })\n      .sort(sortingFunctions[selectedSorting]);\n  },\n});\n","export type Style =\n  | \"white\"\n  | \"green\"\n  | \"black\"\n  | \"hongcha\"\n  | \"raw\"\n  | \"ripe\"\n  | \"oolong\"\n  | \"huangpian\"\n  | \"unknown\";\n\nexport type Size =\n  | \"cake\"\n  | \"mini\"\n  | \"bamboo\"\n  | \"square\"\n  | \"brick\"\n  | \"ball\"\n  | \"sample\"\n  | \"unknown\";\n\nexport type ImageSubject =\n  | \"leaf\"\n  | \"soup\"\n  | \"teaBottom\"\n  | \"teaDetail\"\n  | \"teaTop\"\n  | \"tong\"\n  | \"chabu\"\n  | \"shirt\"\n  | \"wrapperBottom\"\n  | \"wrapperDetail\"\n  | \"wrapperTop\";\n\nexport const getImageUrl = (url: string, size: number): string =>\n  url.replace(\"SIZEx\", `${size}x`);\n\nexport type Images = Partial<Record<ImageSubject, string>>;\n\nexport interface Percentile {\n  size: number;\n  type: number;\n  typeSize: number;\n  all: number;\n  dpg: number;\n}\n\nexport interface Form {\n  name: string;\n  price: number;\n  inStock: boolean;\n  grams: number;\n  dpg: number;\n  size: Size;\n  percentiles: Percentile;\n}\n\n// export enum FormName {\n//   Name7G = \"7g\",\n//   The100G = \"100g\",\n//   The10G = \"10g\",\n//   The120G = \"120g\",\n//   The1Kg = \"1kg\",\n//   The200G = \"200g\",\n//   The250G = \"250g\",\n//   The250GBrickTuoCake = \"250g Brick/Tuo/Cake\",\n//   The25G = \"25g\",\n//   The25GSample = \"25g Sample\",\n//   The357G = \"357g\",\n//   The357GCake = \"357g Cake\",\n//   The360G = \"360g\",\n//   The49G = \"~49g\",\n//   The49GStack = \"49g Stack\",\n//   The50G = \"~50g\",\n//   The7G = \"~7g\",\n//   The7GMini = \"7g Mini\",\n//   The80G = \"80g\",\n// }\n\nexport interface TeaProduct {\n  slug: string;\n  name: string;\n  year: number;\n  quantity: number;\n  description: string;\n  url: string;\n  thumbnailUrl: string;\n  version: string;\n  style: Style;\n  size: Size;\n  images: Images;\n  forms: Form[];\n  tags: string[];\n  owned?: boolean;\n}\n","import { atom } from \"recoil\";\nimport { TeaProduct } from \"types/TeaProduct\";\n\nexport type TeaStyleFiltering =\n  | \"all\"\n  | \"raw\"\n  | \"ripe\"\n  | \"white\"\n  | \"black\"\n  | \"oolong\"\n  | \"bamboo\"\n  | \"heicha\"\n  | \"sun dried\"\n  | \"shade dried\"\n  | \"smokey\"\n  | \"huigan\"\n  | \"blend\"\n  | \"yiwu\"\n  | \"menghai\"\n  | \"low stock\"\n  | \"rle low stock\";\n\nexport const teaStyleFilteringState = atom({\n  key: \"teaStyleFilter\",\n  default: \"all\" as TeaStyleFiltering,\n});\n\nconst isStyle = (s: TeaStyleFiltering) => (x: TeaProduct) => x.style === s;\nconst identity = (x: TeaProduct) => true;\n\ntype TeaStyleFilteringMap = {\n  [key in TeaStyleFiltering]: (a: TeaProduct) => boolean;\n};\n\nexport const filteringFunctions: TeaStyleFilteringMap = {\n  all: identity,\n  raw: isStyle(\"raw\"),\n  ripe: isStyle(\"ripe\"),\n  white: isStyle(\"white\"),\n  black: isStyle(\"black\"),\n  oolong: isStyle(\"oolong\"),\n  bamboo: (t: TeaProduct) => t.size === \"bamboo\",\n  heicha: (t: TeaProduct) => t.description.includes(\"heicha\"),\n  \"sun dried\": (t: TeaProduct) => t.description.includes(\"sun dried\"),\n  \"shade dried\": (t: TeaProduct) => t.description.includes(\"shade dried\"),\n  huigan: (t: TeaProduct) => t.description.includes(\"huigan\"),\n  smokey: (t: TeaProduct) => t.description.includes(\"smoke\"),\n  blend: (t: TeaProduct) => t.description.includes(\"blend\"),\n  yiwu: (t: TeaProduct) => t.description.includes(\"Yiwu\"),\n  menghai: (t: TeaProduct) => t.description.includes(\"Menghai\"),\n  \"low stock\": (t: TeaProduct) => t.quantity < 100 && t.quantity > 0,\n  \"rle low stock\": (t: TeaProduct) => t.quantity < 20 && t.quantity > 0,\n  // TODO add data, then re-enable\n  // 'green': isStyle(TeaStyle.Green),\n  // 'unknown': isStyle(TeaStyle.Unknown),\n};\n","import { atom } from \"recoil\";\nimport { TeaProduct } from \"types/TeaProduct\";\n\nexport type Sorting = \"-year\" | \"+year\" | \"+name\" | \"-name\" | \"+cost\" | \"-cost\";\nexport const sortings: Sorting[] = [\n  \"-year\",\n  \"+year\",\n  \"-name\",\n  \"+name\",\n  \"-cost\",\n  \"+cost\",\n];\n\nexport const sortingState = atom({\n  key: \"sorting\",\n  default: \"-year\" as Sorting,\n});\n\nconst getName = (x: TeaProduct) => x.name.replace(\"The \", \"\");\n\nconst nameDesc = (a: TeaProduct, b: TeaProduct) =>\n  getName(b).localeCompare(getName(a)) || b.year - a.year;\nconst nameAsc = (a: TeaProduct, b: TeaProduct) =>\n  getName(a).localeCompare(getName(b)) || a.year - b.year;\n\nconst yearDesc = (a: TeaProduct, b: TeaProduct) =>\n  b.year - a.year || nameAsc(a, b);\nconst yearAsc = (a: TeaProduct, b: TeaProduct) =>\n  a.year - b.year || nameAsc(a, b);\n\nconst maxDPG = (x: TeaProduct): number =>\n  Math.max(...x.forms.map((x) => x.dpg));\n\nconst costDesc = (a: TeaProduct, b: TeaProduct) =>\n  maxDPG(b) - maxDPG(a) || nameAsc(a, b);\nconst costAsc = (a: TeaProduct, b: TeaProduct) =>\n  maxDPG(a) - maxDPG(b) || nameAsc(a, b);\n\ntype SortingFunctionMap = {\n  [key in Sorting]: (a: TeaProduct, b: TeaProduct) => number;\n};\n\nexport const sortingFunctions: SortingFunctionMap = {\n  \"-year\": yearDesc,\n  \"+year\": yearAsc,\n  \"-name\": nameDesc,\n  \"+name\": nameAsc,\n  \"-cost\": costDesc,\n  \"+cost\": costAsc,\n};\n","export const IMAGE_SIZE = 420;\n","import { atom } from \"recoil\";\n\nexport const personalFilters = [\"all\", \"owned\"] as const;\nexport type PersonalFilter = typeof personalFilters[number];\n\nexport const personalFilterState = atom({\n  key: \"personalFilter\",\n  default: \"all\" as PersonalFilter,\n});\n","import { useState } from \"react\";\nimport \"./Image.scss\";\n\ninterface Props {\n  src: string;\n  alt: string;\n  width: number | string;\n  height: number | string;\n}\nexport const ImagePreLoader = ({ src, alt, width, height }: Props) => {\n  const [isLoaded, setIsLoaded] = useState(false);\n  if (!src) {\n    return (\n      <div className=\"TeaImage placeholder responsive\">\n        <div className=\"circle\"></div>\n      </div>\n    );\n  }\n  return (\n    <>\n      <div\n        className={`TeaImage placeholder responsive ${\n          isLoaded ? \"loaded\" : \"loading\"\n        } `}\n      >\n        <div className=\"circle\"></div>\n      </div>\n      <img\n        src={src}\n        alt={alt}\n        width={width}\n        height={height}\n        className={`TeaImage responsive ${isLoaded ? \"loaded\" : \"loading\"} `}\n        onLoad={() => setIsLoaded(true)}\n      />\n    </>\n  );\n};\nexport const Image = ({ src, alt, width, height }: Props) => {\n  const [isLoaded, setIsLoaded] = useState(false);\n  if (!src) {\n    return (\n      <div className=\"TeaImage placeholder responsive\">\n        <div className=\"circle\"></div>\n      </div>\n    );\n  }\n  return (\n    <img\n      src={src}\n      alt={alt}\n      width={width}\n      height={height}\n      className={`TeaImage responsive ${isLoaded ? \"loaded\" : \"loading\"} `}\n      onLoad={() => setIsLoaded(true)}\n    />\n  );\n};\n","import { atom } from \"recoil\";\n\nconst stored = localStorage.getItem(\"owned\");\nconst owned = stored ? JSON.parse(stored) : {};\n\ntype OwnedMap = {\n  [key: string]: boolean;\n};\n\nexport const ownedState = atom({\n  key: \"owned\",\n  default: owned as OwnedMap,\n});\n","export const scrollToId = (id: string, delay = 100) =>\n  setTimeout(() => {\n    const elem = document.getElementById(id);\n    if (elem) elem.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n    else\n      window.scrollTo({\n        top: 0,\n        left: 0,\n        behavior: \"smooth\",\n      });\n  }, delay);\n","import { Nav } from \"components/Nav\";\nimport { DetailDrawer } from \"routes/DetailDrawer\";\nimport { useEffect } from \"react\";\nimport { useRecoilValue } from \"recoil\";\nimport { sortingState } from \"states/sorting\";\nimport { teaStyleFilteringState } from \"states/teaStyleFiltering\";\n\nimport \"./App.scss\";\nimport { useKeyboardNavigation } from \"hooks/useKeyboardNavigation\";\nimport {\n  Routes,\n  Route,\n  Navigate,\n  useSearchParams,\n  Outlet,\n  useLocation,\n} from \"react-router-dom\";\nimport { Cards } from \"routes/Cards\";\nimport { List } from \"routes/List\";\nimport { Slices } from \"routes/Slices\";\nimport { teasState } from \"states/teas\";\nimport { scrollToId } from \"utils/scrollTo\";\nimport { scrollTop } from \"utils/scrollTop\";\n\nprocess && console.log(`msg: ${process.env.REACT_APP_GIT_MSG || \"dev\"}`);\n\nfunction App() {\n  const sorting = useRecoilValue(sortingState);\n  const filtering = useRecoilValue(teaStyleFilteringState);\n  const teas = useRecoilValue(teasState);\n  const [params] = useSearchParams();\n  const location = useLocation();\n\n  const detail = params.get(\"detail\") || \"\";\n\n  useEffect(() => {\n    const state = {\n      sorting,\n      filtering,\n    };\n    const json = JSON.stringify(state);\n    localStorage.setItem(\"state\", json);\n  }, [sorting, filtering]);\n\n  useEffect(() => {\n    scrollTop(\"drawer\");\n    scrollToId(detail, 80);\n  }, [sorting, filtering, detail, location.pathname]);\n\n  useKeyboardNavigation(teas);\n\n  return (\n    <div className=\"app\">\n      <Routes>\n        <Route path=\"/\" element={<Main />}>\n          <Route path=\"cards/:subject\" element={<Cards />} />\n          <Route path=\"slices/:subject\" element={<Slices />} />\n          <Route path=\"list/:subject\" element={<List />} />\n          <Route index element={<Navigate to=\"/cards/wrapperTop\" />} />\n          <Route path=\"*\" element={<Navigate to=\"cards/wrapperTop\" />} />\n        </Route>\n      </Routes>\n    </div>\n  );\n}\n\nexport default App;\n\nconst Main = () => {\n  const [params] = useSearchParams();\n  const detail = params.get(\"detail\") || \"\";\n  return (\n    <>\n      <Nav />\n      <main id=\"main\" className={detail ? \"detail--open\" : \"\"}>\n        <Outlet />\n      </main>\n      <DetailDrawer />\n    </>\n  );\n};\n","export const scrollTop = (id: string, offset = 0) =>\n  setTimeout(() => {\n    const elem = document.getElementById(id);\n    if (elem) elem.scrollTop = offset;\n  }, 32);\n","import { atom } from \"recoil\";\n\nexport type Layout = \"cards\" | \"list\" | \"slices\";\n\nexport const layouts: Layout[] = [\"cards\", \"slices\", \"list\"];\n\nexport const layoutState = atom({\n  key: \"layout\",\n  default: \"cards\" as Layout,\n});\n","export const capitalize = (str: string) => str[0].toUpperCase() + str.slice(1).toLowerCase();","import { NavLink, useLocation, useParams } from \"react-router-dom\";\nimport { Layout, layouts } from \"states/layout\";\nimport { capitalize } from \"utils/capitalize\";\n\nexport const Selector = ({ layout }: { layout: Layout }) => {\n  const { subject } = useParams();\n  const location = useLocation();\n\n  const newLocation = {\n    pathname: `${layout}/${subject}`,\n    search: location.search,\n  };\n  return (\n    <NavLink className=\"button radio button--layout\" to={newLocation}>\n      <span className=\"label\">{capitalize(layout)}</span>\n    </NavLink>\n  );\n};\n\nexport const LayoutSelector = () => (\n  <>\n    {layouts.map((l) => (\n      <Selector key={l} layout={l} />\n    ))}\n  </>\n);\n","import { useRecoilState } from \"recoil\";\nimport {\n  filteringFunctions,\n  TeaStyleFiltering,\n  teaStyleFilteringState,\n} from \"states/teaStyleFiltering\";\n\nexport const Button = ({ filtering }: { filtering: TeaStyleFiltering }) => {\n  const [currentFiltering, set] = useRecoilState(teaStyleFilteringState);\n  return (\n    <button\n      className=\"button radio button--filter\"\n      disabled={filtering === currentFiltering}\n      onClick={() => set(filtering)}\n    >\n      {filtering}\n    </button>\n  );\n};\n\nexport const FilteringSelector = () => {\n  const $Buttons = Object.keys(filteringFunctions).map((key) => (\n    <Button filtering={key as TeaStyleFiltering} key={key} />\n  ));\n  return <>{$Buttons}</>;\n};\n","import { useRecoilState } from \"recoil\";\nimport {\n  personalFilterState,\n  PersonalFilter,\n  personalFilters,\n} from \"states/personalFilters\";\nimport './Personal.scss';\n\nexport const Button = ({ filtering }: { filtering: PersonalFilter }) => {\n  const [currentFiltering, set] = useRecoilState(personalFilterState);\n  return (\n    <button\n      className=\"button radio button--filter button--personal\"\n      disabled={filtering === currentFiltering}\n      onClick={() => set(filtering)}\n    >\n      {filtering}\n    </button>\n  );\n};\n\nexport const PersonalSelector = () => {\n  const $Buttons = personalFilters.map((value) => (\n    <Button filtering={value as PersonalFilter} key={value} />\n  ));\n  return <>{$Buttons}</>;\n};\n","import { useRecoilState } from \"recoil\";\nimport { Sorting, sortings, sortingState } from \"states/sorting\";\n\nconst getIcon = (value: string) => {\n  switch (value[0]) {\n    case \"+\": {\n      // return '⬈';\n      return \"+\";\n    }\n    case \"-\": {\n      // return '⬊';\n      return \"-\";\n    }\n    default: {\n      return \"?\";\n    }\n  }\n};\n\nconst Label = ({ value }: any) => {\n  const icon = getIcon(value);\n  return (\n    <span className=\"label\">\n      <span className=\"text\">{value.slice(1)}</span>\n      &nbsp;\n      <span className=\"icon--plain\">{icon}</span>\n    </span>\n  );\n};\n\nexport const Button = ({ sorting }: { sorting: Sorting }) => {\n  const [currentSorting, setSorting] = useRecoilState(sortingState);\n  return (\n    <button\n      className=\"button radio button--sort\"\n      disabled={sorting === currentSorting}\n      onClick={() => setSorting(sorting)}\n    >\n      <Label value={sorting} />\n    </button>\n  );\n};\n\nexport const SortingSelector = (props: any) => {\n  const $Buttons = sortings.map((s) => <Button sorting={s} key={s} />);\n  return <>{$Buttons}</>;\n};\n","import { Dispatch, SetStateAction } from \"react\";\n\ninterface ToggleProps {\n  value: boolean;\n  set: Dispatch<SetStateAction<boolean>>;\n  label: string;\n  classes?: string;\n}\n\nexport const Toggle = ({ value, label, set, classes = '' }: ToggleProps) => (\n  <button\n    className={`button toggle ${value ? 'checked' : ''} ${classes}`}\n    onClick={() => set(!value)}\n  >\n    {label}\n  </button>\n);\n","import { atom } from 'recoil';\n\nexport const whiteBalancedState = atom({\n  key: 'whiteBalanced',\n  default: true,\n});\n","import { NavLink, useLocation, useParams } from \"react-router-dom\";\nimport { useRecoilState } from \"recoil\";\nimport { Toggle } from \"components/Toggle\";\nimport { whiteBalancedState } from \"states/whiteBalanced\";\nimport { ImageSubject } from \"types/TeaProduct\";\nimport { capitalize } from \"utils/capitalize\";\nimport \"./Subject.scss\";\n\nconst WhiteBalance = () => {\n  const [isWhiteBalanced, setIsWhiteBalanced] =\n    useRecoilState(whiteBalancedState);\n  return (\n    <Toggle\n      value={isWhiteBalanced}\n      set={setIsWhiteBalanced}\n      label=\"wb\"\n      classes=\"WhiteBalance\"\n    />\n  );\n};\n\nconst label = (subject: ImageSubject) => capitalize(subject[0]);\n\nconst Button = ({ subject }: { subject: ImageSubject }) => {\n  const { subject: currentSubject } = useParams();\n  const location = useLocation();\n\n  const newSubjectLocation = currentSubject\n    ? {\n        pathname: location.pathname.replace(currentSubject, subject),\n        search: location.search,\n      }\n    : \"/\";\n  return (\n    <NavLink\n      className={`button radio button--subject `}\n      to={newSubjectLocation}\n      // disabled={currentSubject === subject}\n    >\n      {label(subject)}\n    </NavLink>\n  );\n};\n\nexport const SubjectSelector = () => {\n  const { subject: currentSubject } = useParams();\n  return (\n    <nav className={`subject-selector global`}>\n      <Button subject=\"wrapperTop\" />\n      <Button subject=\"teaTop\" />\n      <div className={`subject--white-balanced ${currentSubject}`}>\n        <WhiteBalance />\n        <Button subject=\"soup\" />\n      </div>\n    </nav>\n  );\n};\n","export const Divider = () => (\n  <>\n    <br />\n    <br />\n  </>\n);\n","export const Heading = ({ children }: any) => (\n  <h1 className=\"heading\" onClick={() => window.scrollTo({ top: 0, behavior: 'smooth' })}>{children}</h1>\n);\n","import { LayoutSelector } from \"components/Selectors/Layout\";\nimport { FilteringSelector } from \"components/Selectors/Filtering\";\nimport { PersonalSelector } from \"components/Selectors/Personal\";\nimport { SortingSelector } from \"components/Selectors/Sorting\";\nimport { SubjectSelector } from \"components/Selectors/Subject\";\nimport { Divider } from \"components/Divider\";\nimport { Heading } from \"components/Heading\";\n\nexport const Nav = () => (\n  <aside className=\"controls--global\">\n    <Heading>w2tv</Heading>\n    <SubjectSelector />\n    <LayoutSelector />\n    <Divider />\n    <SortingSelector />\n    <Divider />\n    <PersonalSelector />\n    <Divider />\n    <FilteringSelector />\n    <Divider />\n  </aside>\n);\n","export function replaceWithGlowHtml(target: string, source: string) {\n  const regex = new RegExp(target, \"g\");\n  const glowTitle = `<span class=\"glow\">${target}</span>`;\n  const descriptionGlow = source.replace(regex, glowTitle);\n  return descriptionGlow;\n}\ntype Props = {\n  description: string;\n  glowText: string;\n};\n\nexport const Description = ({ description, glowText }: Props) => {\n  const descriptionGlow = replaceWithGlowHtml(glowText, description);\n  const lines = descriptionGlow.split(\".\");\n  const html = `\n<p>\n  ${lines.shift()}.\n</p>\n<p>\n  ${lines.join(\". \")}\n</p>\n  `;\n  return (\n    <div className=\"description\" dangerouslySetInnerHTML={{ __html: html }} />\n  );\n};\n","export const LinkButton = ({ url }: { url: string }) => {\n  return (\n    <a className=\"DetailButton Link\" href={url}>\n      <span className=\"value\">🔗</span>\n    </a>\n  );\n};\n","import * as TeaProduct from \"types/TeaProduct\";\nimport \"./Table.scss\";\nimport \"./Form.scss\";\n\nconst PriceTable = ({ style, first, second, third }: any) => (\n  <div style={style} className=\"Table table\">\n    <h2>{first}</h2>\n    <h3>{second}</h3>\n    <h4>{third}</h4>\n  </div>\n);\n\ntype Props = {\n  form: TeaProduct.Form;\n  style: string;\n  index: number;\n};\n\nexport const FormPricesTable = ({ form, style: teaStyle, index }: Props) => {\n  const { inStock, price } = form;\n\n  var { nan, mass, name } = getMassName(form);\n  const $price = \"$\" + price.toFixed(2);\n  const $ppg = nan ? \"$?\" : \"$\" + (price / mass).toFixed(2);\n\n  const style = {\n    textDecoration: inStock ? \"none\" : \"line-through\",\n    color: inStock ? \"inherit\" : \"var(--grey-medium)\",\n  };\n\n  return (\n    <div className=\"FormPricesTable\">\n      <PriceTable style={style} first={name} second={$price} third={$ppg} />\n    </div>\n  );\n};\n\nexport const FormPercentileTable = ({ form }: Props) => {\n  const { inStock, percentiles } = form;\n\n  const style = {\n    textDecoration: inStock ? \"none\" : \"line-through\",\n    color: inStock ? \"inherit\" : \"var(--grey-medium)\",\n  };\n  const all = getNumberWithOrdinal(percentiles.all);\n  const dpg = getNumberWithOrdinal(percentiles.dpg);\n\n  return (\n    <div style={style} className=\"Percentile table table--fit\">\n      <h5>percentile</h5>\n      <h3>\n        {all.number}\n        <sup>{all.ordinal}</sup>\n      </h3>\n      <h3>\n        {dpg.number}\n        <sup>{dpg.ordinal}</sup>\n      </h3>\n    </div>\n  );\n};\n\nfunction getMassName(form: TeaProduct.Form) {\n  const { name: _name } = form;\n  let mass = parseInt(_name.replace(/\\D/g, \"\"), 10);\n  if (mass === 1) mass = 1000;\n  const tilde = _name.startsWith(\"~\") ? \"~\" : \"\";\n  const nan = Number.isNaN(mass);\n  const name = nan ? \"?\" : `${tilde}${mass}g`;\n  return { nan, mass, name };\n}\n\nconst suffix = [\"th\", \"st\", \"nd\", \"rd\"];\nfunction getNumberWithOrdinal(_number: number) {\n  const number = Math.round(_number);\n  const v = number % 100;\n  const ordinal = suffix[(v - 20) % 10] || suffix[v] || suffix[0];\n  return {\n    number,\n    ordinal,\n  };\n}\n","import \"./Table.scss\";\n\ntype Props = {\n  headings: string[];\n};\n\nexport const TableHeading = ({ headings }: Props) => (\n  <div className=\"TableHeading table table--fit\">\n    {headings.map((h) => (\n      <span key={h}>{h}</span>\n    ))}\n  </div>\n);\n","import { Form, Style } from \"types/TeaProduct\";\nimport \"./Lines.scss\";\n\nconst scale = [\n  \"#ffe6cb\",\n  \"#ffe3af\",\n  \"#ffc58a\",\n  \"#ffa474\",\n  \"#fa8366\",\n  \"#ed635c\",\n  \"#db4551\",\n  \"#c52840\",\n  \"#aa0e27\",\n  \"#8b0000\",\n];\n\nexport const Line = ({ percentile }: { percentile: number }) => {\n  const number = Math.floor(percentile);\n  const scaleIndex = +number.toFixed(0).padStart(2, \"0\")[0];\n  const style = {\n    left: `${number * 2}px`,\n    border: `2px solid ${scale[scaleIndex]}`,\n    color: number <= 30 ? \"rgb(197, 134, 42)\" : scale[scaleIndex],\n  };\n  return (\n    <div className=\"Line\">\n      <span className=\"Label\" style={style}>\n        {number}\n      </span>\n    </div>\n  );\n};\n\nexport const LineTable = ({\n  label,\n  percentile,\n}: {\n  label: string;\n  percentile: number;\n}) => {\n  return (\n    <div className=\"Percentile table \">\n      <h5>{label}</h5>\n      <Line percentile={percentile} />\n    </div>\n  );\n};\n\nexport const Lines = ({\n  forms,\n  teaStyle,\n}: {\n  forms: Form[];\n  teaStyle: Style;\n}) => {\n  if (!forms.length) return null;\n  const { percentiles } = forms[0];\n  const { dpg, typeSize } = percentiles;\n  return (\n    <div className=\"Lines\">\n      <LineTable label={\"overall\"} percentile={dpg} />\n      <LineTable label={`${teaStyle}`} percentile={typeSize} />\n      <div className=\"LabelWrapper\">\n        <span className=\"LinesLabel\">cost percentile</span>\n      </div>\n    </div>\n  );\n};\n","import { useRecoilState } from \"recoil\";\nimport { ownedState } from \"states/owned\";\n\nexport const OwnedButton = ({ slug }: { slug: string }) => {\n  const [owned, setOwned] = useRecoilState(ownedState);\n  const isOwned = owned[slug];\n  const toggleOwned = () => {\n    const newOwned = {\n      ...owned,\n      [slug]: !isOwned,\n    };\n    setOwned(newOwned);\n    localStorage.setItem(\"owned\", JSON.stringify(newOwned));\n  };\n  return (\n    <button\n      className={`DetailButton Owned ${isOwned ? \"isOwned\" : \"\"}`}\n      onClick={toggleOwned}\n    >\n      <span className=\"value\">💸</span>\n    </button>\n  );\n};\n","import { getImageUrl, TeaProduct } from \"types/TeaProduct\";\nimport { Image } from \"components/TeaProduct/Image\";\nimport { Description } from \"./Description\";\nimport { LinkButton } from \"./LinkButton\";\nimport \"./Detail.scss\";\nimport { FormPricesTable } from \"./Form\";\nimport { IMAGE_SIZE } from \"types/const\";\nimport { TableHeading } from \"./Table\";\nimport { Lines } from \"./Lines\";\nimport { formatNumber } from \"utils/formatNumber\";\nimport { OwnedButton } from \"./OwnedButton\";\n\ntype Props = {\n  tea: TeaProduct;\n};\n\nexport const Detail = ({ tea }: Props) => {\n  const { year, name, description, url, forms, style, quantity, slug } = tea;\n  const size = IMAGE_SIZE;\n  const imageUrl = getImageUrl(tea.images.wrapperTop || tea.thumbnailUrl, size);\n  const fullName = `${year} ${name}`;\n\n  return (\n    <article className=\"TeaDetail\">\n      <h1 className=\"title glow\">{fullName}</h1>\n      <Image src={imageUrl} alt={name} width={size} height={size} />\n      <p className=\"quantity\">{formatNumber(quantity)}</p>\n      {!forms.length ? null : (\n        <TableHeading headings={[\"Size\", \"Price\", \"$ / g\"]} />\n      )}\n      {forms.map((f, i) => (\n        <FormPricesTable key={f.name} index={i} form={f} style={style} />\n      ))}\n      <Lines forms={forms} teaStyle={style} />\n      <Description glowText={fullName} description={description} />\n      <LinkButton url={url} />\n      <OwnedButton slug={slug} />\n    </article>\n  );\n};\n","export const formatNumber = (number: number) =>\n  new Intl.NumberFormat(\"en-us\").format(number);\n","import { Detail } from \"components/Detail/Detail\";\nimport { useSearchParams } from \"react-router-dom\";\nimport { useRecoilValue } from \"recoil\";\nimport { allTeasState } from \"states/teas\";\nimport { scrollToId } from \"utils/scrollTo\";\nimport \"./DetailDrawer.scss\";\n\n// const delay = (ms: number) => new Promise(resolve => setTimeout(resolve, ms))\n\nexport const Error = ({ slug }: any) => {\n  return (\n    <>\n      <h1>error</h1>\n      <h1>{slug}</h1>\n    </>\n  );\n};\n\nexport const Skeleton = () => {\n  return <div className=\"skeleton\"></div>;\n};\nexport const Drawer = ({ classes, children }: any) => (\n  <aside className={classes} id=\"drawer\">\n    {children}\n  </aside>\n);\n\nexport const DetailDrawer = () => {\n  const allTeas = useRecoilValue(allTeasState);\n  const [params, setParams] = useSearchParams();\n  const detailSlug = params.get(\"detail\");\n  const classes = `drawer ${detailSlug ? \"open\" : \"closed\"}`;\n\n  if (!detailSlug) return <Drawer classes={classes} />;\n  const tea = allTeas.find((t) => t.slug === detailSlug);\n  if (!tea) return null;\n\n  const resetSelected = () => {\n    scrollToId(detailSlug);\n    setParams({});\n  };\n\n  return (\n    <Drawer classes={classes}>\n      <button className=\"DetailButton Close\" onClick={resetSelected}>\n        <span className=\"value\">&times;</span>\n      </button>\n      <Detail tea={tea} />\n    </Drawer>\n  );\n};\n","import { atom } from 'recoil';\n\nexport const selectedSlugState = atom({\n  key: 'selectedSlug',\n  default: '',\n});\n","import { useRecoilState } from \"recoil\";\nimport { selectedSlugState } from \"../states/selectedSlug\";\nimport { TeaProduct } from \"../types/TeaProduct\";\nimport { useHotkeys } from \"react-hotkeys-hook\";\n\nexport const getDirection = (\n  direction: string,\n  slug: string,\n  teas: TeaProduct[]\n): string => {\n  if (!slug) return teas[0].slug;\n  const i = teas.findIndex((t) => t.slug === slug);\n  const col = 3;\n  switch (direction) {\n    case \"left\":\n      return teas[i - 1]?.slug || teas[teas.length - 1].slug;\n    case \"right\":\n      return teas[i + 1]?.slug || teas[0].slug;\n    case \"up\":\n      return teas[i - col]?.slug || teas[teas.length - 1].slug;\n    case \"down\":\n      return teas[i + col]?.slug || teas[0].slug;\n    default:\n      return slug;\n  }\n};\n\nexport function useKeyboardNavigation(teas: TeaProduct[]) {\n  const [selectedSlug, setSelectedSlug] = useRecoilState(selectedSlugState);\n  useHotkeys(\n    \"left\",\n    () => setSelectedSlug(getDirection(\"left\", selectedSlug, teas)),\n    [selectedSlug, teas]\n  );\n  useHotkeys(\n    \"right\",\n    () => setSelectedSlug(getDirection(\"right\", selectedSlug, teas)),\n    [selectedSlug, teas]\n  );\n  useHotkeys(\n    \"up\",\n    () => setSelectedSlug(getDirection(\"up\", selectedSlug, teas)),\n    [selectedSlug, teas]\n  );\n  useHotkeys(\n    \"down\",\n    () => setSelectedSlug(getDirection(\"down\", selectedSlug, teas)),\n    [selectedSlug, teas]\n  );\n}\n","import { getImageUrl, ImageSubject, TeaProduct } from \"types/TeaProduct\";\nimport { Image } from \"./Image\";\nimport \"./Card.scss\";\nimport { useSearchParams } from \"react-router-dom\";\nimport { IMAGE_SIZE } from \"types/const\";\n\nexport type Props = {\n  tea: TeaProduct;\n  subject: ImageSubject;\n};\n\nexport const Card = ({ tea, subject }: Props) => {\n  const [params, setParams] = useSearchParams();\n  const detailSlug = params.get(\"detail\");\n\n  const { year, name, slug, owned } = tea;\n  const setSelected = () =>\n    setParams({\n      detail: slug,\n    });\n\n  const imageUrl = tea.images[subject];\n  const size = IMAGE_SIZE;\n\n  const isSelected = detailSlug === slug;\n  const classes = `TeaCard ${isSelected ? \"selected\" : \"\"} ${\n    owned ? \"owned\" : \"\"\n  }`;\n\n  return (\n    <figure className={classes} onClick={setSelected} id={slug}>\n      <div className=\"content\">\n        <div className=\"icon\"></div>\n        <h3 className=\"year glow\">{year}</h3>\n        <h2 className=\"name\">{name}</h2>\n        <Image\n          src={getImageUrl(imageUrl || \"\", size)}\n          alt={name}\n          width={size}\n          height={size}\n        />\n      </div>\n    </figure>\n  );\n};\n","import { Card } from \"components/TeaProduct/Card\";\nimport { useParams } from \"react-router-dom\";\nimport { useRecoilValue } from \"recoil\";\nimport { teasState } from \"states/teas\";\nimport { ImageSubject } from \"types/TeaProduct\";\nimport \"./Cards.scss\";\n\nexport const Cards = () => {\n  const { subject } = useParams();\n  const teas = useRecoilValue(teasState);\n\n  const $Teas = teas.map((tea) => (\n    <Card\n      key={tea.slug}\n      tea={tea}\n      subject={(subject as ImageSubject) || \"wrapperTop\"}\n    />\n  ));\n  return <section className=\"TeaCards\">{$Teas}</section>;\n};\n","import { useMemo } from \"react\";\nimport { useSearchParams } from \"react-router-dom\";\nimport { getImageUrl, TeaProduct } from \"types/TeaProduct\";\nimport \"./ListRow.scss\";\n\nconst getRandomStyle = () => {\n  const rand = (min: number, max: number) => Math.random() * (max - min) + min;\n  const left = rand(10, 80);\n  const top = rand(0, 60);\n  const size = rand(100, 400);\n  return { size, top, left };\n};\n\nexport const ListRow = ({ tea }: { tea: TeaProduct }) => {\n  const [params, setParams] = useSearchParams();\n  const { size, top, left } = useMemo(getRandomStyle, [tea.slug]);\n\n  const { year, name, slug, style, thumbnailUrl } = tea;\n  const detailSlug = params.get(\"detail\");\n\n  const setSelected = () =>\n    setParams({\n      detail: slug,\n    });\n\n  const isSelected = detailSlug === slug;\n  const classes = `ListText ${isSelected ? \"selected glow\" : \"\"}`;\n  const url = getImageUrl(thumbnailUrl, size);\n  const imageStyle = {\n    top: `${top}vh`,\n    left: `${left}vw`,\n    width: `${size}px`,\n    height: `${size}px`,\n  };\n\n  return (\n    <div className={classes} onClick={setSelected} id={slug}>\n      <span className=\"year\">{year} </span>\n      <span className=\"name\">{name} </span>\n      <span className=\"style\"> {style}</span>\n      <img src={url} width={size} height={size} alt={name} style={imageStyle} />\n    </div>\n  );\n};\n","import { useRecoilValue } from \"recoil\";\nimport { teasState } from \"states/teas\";\nimport { ListRow } from \"components/TeaProduct/ListRow\";\nimport \"./List.scss\";\n\nexport const List = () => {\n  const teas = useRecoilValue(teasState);\n\n  return (\n    <div className=\"List\">\n      {teas.map((t) => (\n        <ListRow key={t.slug} tea={t} />\n      ))}\n    </div>\n  );\n};\n","import { useSearchParams } from \"react-router-dom\";\nimport { IMAGE_SIZE } from \"types/const\";\nimport { getImageUrl, ImageSubject, TeaProduct } from \"types/TeaProduct\";\nimport \"./Slice.scss\";\n\ninterface TeaSliceProps {\n  tea: TeaProduct;\n  subject: ImageSubject;\n}\n\nexport const Slice = ({ tea, subject }: TeaSliceProps) => {\n  const [params, setParams] = useSearchParams();\n  const detailSlug = params.get(\"detail\");\n\n  const { year, name, slug } = tea;\n  const setSelected = () =>\n    setParams({\n      detail: slug,\n    });\n\n  const imageUrl = tea.images[subject];\n  const size = IMAGE_SIZE;\n\n  const isSelected = detailSlug === slug;\n  const classes = `TeaSliceWrapper ${\n    isSelected ? \"selected\" : \"\"\n  } ${subject} ${size}`;\n\n  return (\n    <span className={classes} onClick={setSelected} id={slug}>\n      {imageUrl && (\n        <img\n          src={getImageUrl(imageUrl, size)}\n          alt={name}\n          width={size}\n          height={size}\n          className=\"TeaSlice\"\n          loading=\"lazy\"\n        />\n      )}\n      <div className=\"TeaSliceInfoWrapper\">\n        <div className=\"TeaSliceInfo glow\">\n          <span>{year}</span>\n          <span>{name}</span>\n        </div>\n      </div>\n    </span>\n  );\n};\n","import { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useRecoilValue } from \"recoil\";\nimport { teasState } from \"states/teas\";\nimport { ImageSubject } from \"types/TeaProduct\";\nimport { Slice } from \"components/TeaProduct/Slice\";\nimport \"./Slices.scss\";\n\nexport const Slices = () => {\n  const teas = useRecoilValue(teasState);\n  const params = useParams();\n  const subject = params.subject as ImageSubject;\n\n  const defaultFilters = getDefaultFilters(subject);\n  const [filteredSizes, setFilteredSizes] = useState(defaultFilters);\n\n  useEffect(() => {\n    setFilteredSizes(getDefaultFilters(subject));\n  }, [subject]);\n\n  const toggle = (size: any) => ({\n    ...filteredSizes,\n    [size]: !filteredSizes[size] as boolean,\n  });\n\n  const Filters = Object.keys(defaultFilters).map((size) => (\n    <button\n      key={size}\n      className={`button toggle ${filteredSizes[size] ? \"checked\" : \"\"}`}\n      onClick={() => setFilteredSizes(toggle(size))}\n    >\n      {size}\n    </button>\n  ));\n\n  const TeaSlices = teas\n    .filter((t) => filteredSizes[t.size])\n    .map((t) => <Slice key={t.slug} tea={t} subject={subject} />);\n\n  return (\n    <>\n      <nav className=\"TeaSliceFilters\">{Filters}</nav>\n      <div className=\"TeaSlices\">{TeaSlices}</div>\n    </>\n  );\n};\n\nexport const getDefaultFilters = (subject: ImageSubject) =>\n  ({\n    cake: true,\n    brick: true,\n    mini: subject === \"wrapperTop\" ? false : true,\n    bamboo: subject === \"wrapperTop\" ? false : true,\n    unknown: subject === \"soup\" ? true : false,\n    // brick: subject === \"wrapperTop\" ? false : true,\n    // mini: subject === \"wrapperTop\" ? false : true,\n  } as any);\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { RecoilRoot } from \"recoil\";\nimport App from \"./App\";\nimport \"./index.scss\";\nimport reportWebVitals from \"./utils/reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <RecoilRoot>\n      <BrowserRouter basename=\"/w2tv\">\n        <App />\n      </BrowserRouter>\n    </RecoilRoot>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}